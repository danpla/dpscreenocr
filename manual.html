<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dpScreenOCR User Manual</title>
  <link rel="stylesheet" href="manual-data/manual.css">
</head>
<body>
<header>
<h1 class="title">dpScreenOCR User Manual</h1>
<p class="subtitle">Version 1.4</p>
</header>
<nav id="TOC">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#about"><span class="toc-section-number">1</span> About</a></li>
<li><a href="#installation"><span class="toc-section-number">2</span> Installation</a>
<ul>
<li><a href="#installing-dpscreenocr"><span class="toc-section-number">2.1</span> Installing dpScreenOCR</a>
<ul>
<li><a href="#unix-like-systems"><span class="toc-section-number">2.1.1</span> Unix-like systems</a></li>
<li><a href="#windows"><span class="toc-section-number">2.1.2</span> Windows</a></li>
</ul></li>
<li><a href="#installing-languages"><span class="toc-section-number">2.2</span> Installing languages</a>
<ul>
<li><a href="#unix-like-systems-1"><span class="toc-section-number">2.2.1</span> Unix-like systems</a></li>
<li><a href="#windows-1"><span class="toc-section-number">2.2.2</span> Windows</a></li>
</ul></li>
</ul></li>
<li><a href="#usage"><span class="toc-section-number">3</span> Usage</a>
<ul>
<li><a href="#character-recognition"><span class="toc-section-number">3.1</span> Character recognition</a>
<ul>
<li><a href="#split-text-blocks"><span class="toc-section-number">3.1.1</span> Split text blocks</a></li>
<li><a href="#languages"><span class="toc-section-number">3.1.2</span> Languages</a></li>
<li><a href="#language-manager"><span class="toc-section-number">3.1.3</span> Language manager</a></li>
</ul></li>
<li><a href="#actions"><span class="toc-section-number">3.2</span> Actions</a>
<ul>
<li><a href="#run-executable"><span class="toc-section-number">3.2.1</span> Run executable</a></li>
</ul></li>
<li><a href="#hotkey"><span class="toc-section-number">3.3</span> Hotkey</a></li>
</ul></li>
<li><a href="#tweaking"><span class="toc-section-number">4</span> Tweaking</a></li>
<li><a href="#troubleshooting"><span class="toc-section-number">5</span> Troubleshooting</a></li>
</ul>
</nav>
<h1 data-number="1" id="about"><span class="header-section-number">1</span> About</h1>
<p>dpScreenOCR is a free and open-source program to recognize text on the screen. Powered by <a href="https://en.wikipedia.org/wiki/Tesseract_(software)">Tesseract</a>, it supports more than 100 languages and can split independent text blocks, such as columns.</p>
<h1 data-number="2" id="installation"><span class="header-section-number">2</span> Installation</h1>
<h2 data-number="2.1" id="installing-dpscreenocr"><span class="header-section-number">2.1</span> Installing dpScreenOCR</h2>
<h3 data-number="2.1.1" id="unix-like-systems"><span class="header-section-number">2.1.1</span> Unix-like systems</h3>
<p>The <a href="https://danpla.github.io/dpscreenocr">dpScreenOCR website</a> provides several options, including repositories for Debian, Ubuntu, and derivatives. If there is no suitable choice for your system, download the source code tarball, unpack it, and follow the instructions in “doc/building-unix.txt”.</p>
<h3 data-number="2.1.2" id="windows"><span class="header-section-number">2.1.2</span> Windows</h3>
<p>The <a href="https://danpla.github.io/dpscreenocr">dpScreenOCR website</a> provides an installer and a ZIP archive. The latter doesn’t need installation: unpack it anywhere and run dpscreenocr.exe.</p>
<p>Both versions are identical. In particular, the ZIP variant is not a so-called <a href="https://en.wikipedia.org/wiki/Portable_application">portable application</a>: it stores its configuration and other files in the same directories as the installer version.</p>
<h2 data-number="2.2" id="installing-languages"><span class="header-section-number">2.2</span> Installing languages</h2>
<h3 data-number="2.2.1" id="unix-like-systems-1"><span class="header-section-number">2.2.1</span> Unix-like systems</h3>
<p>Use your package manager to install languages for Tesseract. Package names may vary across systems, but they usually start with “tesseract” and end with a language code or name. For example, the package for German has the following names:</p>
<ul>
<li>“tesseract-ocr-deu” on Debian, Ubuntu, and derivatives</li>
<li>“tesseract-data-deu” on Arch Linux</li>
<li>“tesseract-langpack-deu” on Fedora</li>
<li>“tesseract-ocr-traineddata-german” on openSUSE</li>
</ul>
<p>There are two special packs that provide extra features rather than languages: “osd” (automatic script and orientation detection) and “equ” (math and equation detection). dpScreenOCR doesn’t use them.</p>
<h3 data-number="2.2.2" id="windows-1"><span class="header-section-number">2.2.2</span> Windows</h3>
<p>dpScreenOCR for Windows is shipped with the English language pack. To install other languages, use the language manager as described in the “<a href="#language-manager">Language manager</a>” section.</p>
<p>Alternatively, you can install languages manually: download the needed Tesseract language files (for example, from the <a href="https://danpla.github.io/dpscreenocr/languages">languages page</a>) and place them in <code>C:\Users\(your name)\AppData\Local\dpscreenocr\tesseract_5_data</code>. To quickly navigate to this folder, paste <code>%LOCALAPPDATA%\dpscreenocr\tesseract_5_data</code> to either “Run” (press Windows + R) or the folder address bar of File Explorer.</p>
<h1 data-number="3" id="usage"><span class="header-section-number">3</span> Usage</h1>
<p>dpScreenOCR is simple to use:</p>
<ol type="1">
<li>Choose languages and actions in the Main tab.</li>
<li>Move the mouse pointer to the screen area containing text and press the hotkey shown in the Main tab to start the selection.</li>
<li>Move the mouse so that the selection covers the text and press the hotkey again.</li>
</ol>
<p>After these steps, dpScreenOCR will recognize the text from the selected area and process it according to the chosen actions.</p>
<p>The rest of this chapter will describe the various settings that you can find in the Main tab.</p>
<h2 data-number="3.1" id="character-recognition"><span class="header-section-number">3.1</span> Character recognition</h2>
<h3 data-number="3.1.1" id="split-text-blocks"><span class="header-section-number">3.1.1</span> Split text blocks</h3>
<p>If this option is enabled, dpScreenOCR tries to split independent blocks of text, such as columns. Otherwise, the text is treated as one continuous block. This behavior is best illustrated by the following image, which shows a two-column text layout (A) recognized with (B) and without (C) the “Split text blocks” option:</p>
<p><img src="manual-data/split.svg" /></p>
<p>This option does not affect paragraph detection.</p>
<h3 data-number="3.1.2" id="languages"><span class="header-section-number">3.1.2</span> Languages</h3>
<p>This is the list of languages that dpScreenOCR can use to recognize text. You can select more than one, but be aware that this may slow down recognition and reduce its accuracy.</p>
<h3 data-number="3.1.3" id="language-manager"><span class="header-section-number">3.1.3</span> Language manager</h3>
<p>The language manager allows you to install, update, and remove languages. It is not available on Unix-like systems, where you can handle languages via the system package manager as described in the “<a href="#installing-languages">Installing languages</a>” section.</p>
<p>When you open the manager, it will try to fetch the list of available languages from the Internet. If it fails (e.g., if there is no network connection), you can still remove languages using the corresponding tab.</p>
<h2 data-number="3.2" id="actions"><span class="header-section-number">3.2</span> Actions</h2>
<p>The Actions group lets you choose what to do with the recognized text: copy it to the clipboard, add it to the history (located in the corresponding tab), or pass it as an argument to an executable.</p>
<h3 data-number="3.2.1" id="run-executable"><span class="header-section-number">3.2.1</span> Run executable</h3>
<p>The “Run executable” action will run an executable with the recognized text as the first argument. The entry expects either an absolute path to the executable, or just its name in case it’s located in one of the paths listed in your PATH environment variable.</p>
<h4 data-number="3.2.1.1" id="running-scripts-on-unix-like-systems"><span class="header-section-number">3.2.1.1</span> Running scripts on Unix-like systems</h4>
<p>Before using your script, make sure it starts with a proper <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a> and you have the execute permission (run <code>chmod +x your_script</code>).</p>
<p>Here is an example Unix shell script that translates the recognized text to your native language using <a href="https://www.soimort.org/translate-shell/">Translate Shell</a> and displays the translation as a desktop notification.</p>
<pre><code>#!/bin/sh

notify-send &quot;Translation&quot; $(trans -b &quot;$1&quot;)</code></pre>
<h4 data-number="3.2.1.2" id="running-scripts-on-windows"><span class="header-section-number">3.2.1.2</span> Running scripts on Windows</h4>
<h5 data-number="3.2.1.2.1" id="batch-files"><span class="header-section-number">3.2.1.2.1</span> Batch files</h5>
<p>dpScreenOCR doesn’t run batch files (“.bat” or “.cmd”) because there’s no way to safely pass them arbitrary text. Please use another scripting language instead.</p>
<h5 data-number="3.2.1.2.2" id="creating-file-associations"><span class="header-section-number">3.2.1.2.2</span> Creating file associations</h5>
<p>Before using a script, make sure that the file association is configured correctly so that you can launch the script just by its file name, without mentioning the interpreter explicitly. The simplest way to test this is to type the name of the script with some arguments in cmd.exe. If the script runs and receives all arguments, you can skip this section.</p>
<p>We will use Python as an example, but for other languages the process is similar. Open cmd.exe as administrator and run asscoc with the extension of the script file as an argument:</p>
<pre><code>&gt; assoc .py</code></pre>
<ul>
<li><p>If the association doesn’t exist, create a new one:</p>
<pre><code>&gt; assoc .py=Python.File
&gt; ftype Python.File=&quot;C:\Windows\py.exe&quot; &quot;%L&quot; %*</code></pre></li>
<li><p>If the association exists (assoc prints something like <code>.py=Python.File</code>), run ftype to see what command is used:</p>
<pre><code>&gt; ftype Python.File
Python.File=&quot;C:\Windows\py.exe&quot; &quot;%L&quot; %*</code></pre>
<p>If the command doesn’t end with <code>%*</code>, fix it:</p>
<pre><code>&gt; ftype Python.File=&quot;C:\Windows\py.exe&quot; &quot;%L&quot; %*</code></pre></li>
</ul>
<p>If the script still receives only one argument (path to the script), this means that Windows actually use a different association for the given extension and ignores the one set with assoc/ftype. To fix this, open regedit and make sure the values of the following keys use the correct path to the Python executable and end with <code>%*</code>:</p>
<pre><code>HKEY_CLASSES_ROOT\Applications\python.exe\shell\open\command
HKEY_CLASSES_ROOT\py_auto_file\shell\open\command</code></pre>
<p>A tip for Python users: note that in the examples above the association uses Python Launcher (py.exe) rather than a concrete Python executable (python.exe). This allows using <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a> lines to select the Python version for each script. For more information, read <a href="https://docs.python.org/3/using/windows.html">Using Python on Windows</a>.</p>
<h5 data-number="3.2.1.2.3" id="hiding-console-window"><span class="header-section-number">3.2.1.2.3</span> Hiding console window</h5>
<p>Most scripting language interpreters for Windows come with a special version of the executable that doesn’t show the console window. For example, this is pyw.exe for Python.</p>
<p>The interpreter installer usually adds a special file association that allows you to hide the console window by changing the script extension (for example, to “.pyw” for Python). If such an association does not exist, you can create it as described in the previous section.</p>
<h2 data-number="3.3" id="hotkey"><span class="header-section-number">3.3</span> Hotkey</h2>
<p>The hotkey starts and ends the on-screen selection. To cancel the selection, press Escape.</p>
<p>The hotkey is global: it works even if the dpScreenOCR window is minimized. If pressing the hotkey has no effect, it probably means that another program is already using it. In this case, try another key combination.</p>
<h1 data-number="4" id="tweaking"><span class="header-section-number">4</span> Tweaking</h1>
<p>This section describes how to change some settings that are not available in the dpScreenOCR interface.</p>
<p>dpScreenOCR saves settings in settings.cfg. Depending on the platform, you can find it in the following directories:</p>
<ul>
<li><p>Unix-like systems: <code>~/.config/dpscreenocr</code></p></li>
<li><p>Windows: <code>%LOCALAPPDATA%\dpscreenocr</code></p>
<p>You can paste this path to the folder address bar of File Explorer to open it. <code>%LOCALAPPDATA%</code> is an environment variable that usually expands to <code>C:\Users\(your name)\AppData\Local\</code></p></li>
</ul>
<p>Each line in settings.cfg contains an option as a key-value pair. A value is a string that, depending on the option, represents a boolean (<code>true</code> or <code>false</code>), number (like <code>10</code> or <code>-5</code>), file path, etc.</p>
<p>Values can contain the following escape sequences:</p>
<ul>
<li><code>\n</code> - line feed</li>
<li><code>\r</code> - carriage return</li>
<li><code>\t</code> - tabulation</li>
</ul>
<p>Any other character preceded by <code>\</code> is kept as is. To preserve leading spaces, escape the first one with <code>\</code>; to preserve trailing spaces, put <code>\</code> at the end of the line.</p>
<p>To reset an option to the default value, remove it from settings.cfg; to reset all options, clear or delete the file. Be aware that dpScreenOCR rewrites settings on exit, so make sure you close the program before making changes.</p>
<p>Here is a list of options that can only be changed by editing the settings file:</p>
<ul>
<li><p><code>action_copy_to_clipboard_text_separator</code> (<code>\n\n\n</code> by default) the separator to insert between recognized texts when the “Copy text to clipboard” action gets several of them at once. This option is only effective if <code>ocr_allow_queuing</code> is enabled.</p></li>
<li><p><code>history_wrap_words</code> (<code>true</code> by default) whether to break long lines of text in the history so that you don’t have to scroll horizontally.</p></li>
<li><p><code>hotkey_cancel_selection</code> (<code>Escape</code> by default) hotkey to cancel selection.</p></li>
<li><p><code>ocr_allow_queuing</code> (<code>true</code> by default) allows you to queue a new selection for recognition without waiting for the previous one to complete.</p>
<p>If this option is disabled, pressing the hotkey will have no effect until the recognition is finished. If this option is enabled, the “Copy text to clipboard” action can get several recognized texts at once, in which case they will be joined using <code>action_copy_to_clipboard_text_separator</code> as a separator.</p></li>
<li><p><code>selection_border_width</code> (<code>3</code> by default) width of the selection border.</p>
<p>Depending on the platform, this width can be scaled proportionally to DPI, which may be the physical DPI of the display, the virtual DPI set via global interface/font scale settings, or a combination of both.</p></li>
<li><p><code>ui_tray_icon_visible</code> (<code>true</code> by default) whether to show an icon in the notification area.</p></li>
<li><p><code>ui_window_minimize_on_start</code> (<code>false</code> by default) minimize window on start.</p></li>
<li><p><code>ui_window_minimize_to_tray</code> (<code>false</code> by default) hide window to the notification area on minimizing. This option is only effective if <code>ui_tray_icon_visible</code> is enabled.</p></li>
</ul>
<h1 data-number="5" id="troubleshooting"><span class="header-section-number">5</span> Troubleshooting</h1>
<p>This section contains a list of possible issues and their solutions. If the solution doesn’t help, or you have a problem that is not listed here, please report it on the <a href="https://github.com/danpla/dpscreenocr/issues">issue tracker</a>. You can also contact the author by email; the link is at the bottom of the <a href="https://danpla.github.io/dpscreenocr">dpScreenOCR website</a>.</p>
<ul>
<li><p><strong>Recognized text contains garbage</strong></p>
<p>Make sure that you use the minimal set of languages needed to recognize the text. Don’t enable languages just in case: this will dramatically reduce the accuracy of recognition.</p></li>
<li><p><strong>Pressing the hotkey has no effect</strong></p>
<p>This hotkey is probably used by another program. Try to choose another key combination.</p></li>
<li><p><strong>“Run executable” has no effect</strong></p>
<ul>
<li><p>Make sure that the “Run executable” entry contains either an absolute path to the executable, or just the name of the executable that resides in one of the paths listed in the PATH environment variable.</p></li>
<li><p>(Unix) Make sure you have the execute permission. Run <code>chmod +x executable</code>.</p></li>
<li><p>(Unix) If your executable is a script, make sure it starts with a proper <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a>.</p></li>
<li><p>(Windows) Are you trying to use a batch file (“.bat” or “.cmd”)? This is not allowed because there is no way to safely pass them arbitrary text. Please use another scripting language instead.</p></li>
</ul></li>
<li><p><strong>(Unix) “Wayland is not supported. Please switch to the X11/Xorg session”</strong></p>
<p>You need to switch to the X11/Xorg session, as dpScreenOCR doesn’t work with Wayland yet. In most desktop environments, you can do this from a dedicated menu (sometimes hidden under a gear button) when the login screen asks for the password.</p></li>
<li><p><strong>(Unix) No languages</strong></p>
<p>Make sure that the TESSDATA_PREFIX environment variable is either not set or points to the directory with “.traineddata” files.</p></li>
<li><p><strong>(Windows) “Run executable” opens the script in a text editor</strong></p>
<p>Create a file association as described in <a href="#creating-file-associations">Creating file associations</a>.</p></li>
<li><p><strong>(Windows) “Run executable” runs the script without an argument</strong></p>
<p>Make sure that the file association ends with <code>%*</code>. See <a href="#creating-file-associations">Creating file associations</a> for the details.</p></li>
</ul>
</body>
</html>
